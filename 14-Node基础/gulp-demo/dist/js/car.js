"use strict";$(function(){function c(){var c=0,i=0;$(".itxt").each(function(t,e){c+=parseInt($(e).val())}),$(".amount-sum em").text(c),$(".p-sum").each(function(t,e){i+=parseFloat($(e).text().substr(1))}),$(".price-sum em").text("￥"+i.toFixed(2))}$(".checkedall").change(function(){$(".con-checked, .checkedall").prop("checked",$(this).prop("checked")),$(this).prop("checked")?$(".cart-item").addClass("check-cart-item"):$(".cart-item").removeClass("check-cart-item")}),$(".con-checked").change(function(){$(".con-checked:checked").length===$(".con-checked").length?$(".checkedall").prop("checked",!0):$(".checkedall").prop("checked",!1),$(this).prop("checked")?$(this).parents(".cart-item").addClass("check-cart-item"):$(this).parents(".cart-item").removeClass("check-cart-item")}),$(".increment").click(function(){var t=$(this).siblings(".itxt").val();t++,$(this).siblings(".itxt").val(t);var e=$(this).parents(".p-num").siblings(".p-price").html();e=e.substr(1),$(this).parents(".p-num").siblings(".p-sum").text("￥"+(t*e).toFixed(2)),c()}),$(".decrement").click(function(){var t=$(this).siblings(".itxt").val();if(1==t)return!1;t--,$(this).siblings(".itxt").val(t);var e=$(this).parents(".p-num").siblings(".p-price").html();e=e.substr(1),$(this).parents(".p-num").siblings(".p-sum").text("￥"+(t*e).toFixed(2)),c()}),$(".itxt").change(function(){var t=$(this).val(),e=$(this).parents(".p-num").siblings(".p-price").html();e=e.substr(1),$(this).parents(".p-num").siblings(".p-sum").text("￥"+(t*e).toFixed(2)),c()}),c(),$(".p-action a").click(function(){$(this).parents(".cart-item").remove(),c()}),$(".operation .remove-batch").click(function(){$(".con-checked:checked").parents(".cart-item").remove(),c()}),$(".operation .clear-all").click(function(){$(".cart-item-list").empty(),c()})});